{"name":"Allspeak.js","tagline":"Front-end translation library","body":"Allspeak.js\r\n===========\r\n\r\nAllspeak is a front-end JavaScript library that translates your websites and web applications quickly and efficiently.\r\n\r\n## Installation\r\n\r\nDownload or clone the Allspeak.js repository\r\n\r\n```\r\ngit clone https://github.com/Schlipak/Allspeak.js.git\r\n```\r\n\r\nIn the `dist` folder, you will find the source and minified files. You can either use the jQuery or vanilla version as you like, both have the same functionnalities.\r\n\r\nIn your HTML document, you should add an attribute to the elements you want to translate. The default attribute is `data-key`, but it can be configured to your liking.\r\n\r\nAll the translations are defined in a JSON file called the *translation domain*, which follows a specific structure. See [JSON file definition](#json-file-definition).\r\n\r\n``` html\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n\t<title>Hello world</title>\r\n</head>\r\n<body>\r\n\t<p data-key=\"translation.key\">Some default text</p>\r\n\t<script type=\"application/javascript\" src=\"path/to/Allspeak/dist/allspeak.min.js\"></script>\r\n\t<script type=\"application/javascript\">\r\n\t\t(function() {\r\n\t\t\tvar speak = new Allspeak();\r\n\t\t\tspeak.trans('fr');\r\n\t\t}());\r\n\t</script>\r\n</body>\r\n</html>\r\n```\r\n\r\nAlong with a valid JSON translation file, the previous example will be translated according to it.\r\n\r\n*Note*: When using the jQuery version of Allspeak, wrap your code in `$(document).ready()`;\r\n\r\n## JSON file definition\r\n\r\nThe JSON translation file structure is pretty simple and straight-forward. It lists all of your translation keys, and to each, associates one or more translation.\r\n\r\n``` json\r\n{\r\n\t\"some.translation.key\": {\r\n\t\t\"en\": \"This is the english traduction\",\r\n\t\t\"fr\": \"Ceci est la traduction française\"\r\n\t},\r\n\t\"another.translation.key\": {\r\n\t\t\"en\": \"Yep, same thing here\",\r\n\t\t\"fr\": \"Ouep, même chose\"\r\n\t}\r\n}\r\n```\r\n\r\nIf your file does not follow this structure, Allspeak will either throw a *parseError* or warn you of a missing key or translation in the console. It's always good to test your translation file with an JSON validator service such as JSONlint.\r\n\r\n## Translation domains\r\n\r\nAllspeak uses the concept of translation domains. This allows you to split your translations into multiple files, depending on what part of your website/application it belongs. That way, you can easily maintain your application's translations.\r\n\r\nFor instance, we can imagine a web application divided in the following trans domains:\r\n\r\n* Buttons\r\n* Forms\r\n* Menus\r\n* ... etc\r\n\r\nThe corresponding JSON files should be named according to their translation domain, ie:\r\n\r\n* buttons.json\r\n* forms.json\r\n* menus.json\r\n\r\n## Settings\r\n\r\nAllspeak comes with settings that let you tune its behaviour to better fit your needs. You can pass an object to the constructor to specify some of these settings.\r\n\r\n``` javascript\r\nvar speak = new Allspeak({\r\n\tsetting: value\r\n});\r\n```\r\n\r\n#### debug\r\n\r\nYou can activate the debug mode to make Allspeak verbose and output informations in the console. This should not be used in production.\r\n\r\n* Setting name: `debug`\r\n* Possible values: *Boolean* true|false\r\n* Default: false\r\n\r\n#### path\r\n\r\nThis is the (relative or absolute) path to the directory in which your translation files are located.\r\nNote that relative paths are relative to the HTML file location and not to the Allspeak.js location.\r\n\r\n* Setting name: `path`\r\n* Possible values: *String* Any valid path\r\n* Default: './translations'\r\n\r\n#### defaultDomain\r\n\r\nYou can specify a default domain name. This will be used if you do not specify a domain name when translating.\r\n\r\n* Setting name: `defaultDomain`\r\n* Possible values: *String* A valid file identifier\r\n* Default: 'messages'\r\n\r\n#### keyAttrName\r\n\r\nYou can specify the key attribute name, which will be used to recognize which HTML elements are to be translated.\r\n\r\n* Setting name: `keyAttrName`\r\n* Possible values: *String* A valid attribute name\r\n* Default: `data-key`\r\n\r\n#### raw\r\n\r\nBy default, Allspeak will output escaped strings to avoid any problem when outputtig characters such as `< >`. You can choose to disable this, to allow Allspeak to output raw HTML code.\r\n\r\n* Setting name: `raw`\r\n* Possible values: *Boolean* true|false\r\n* Default: false\r\n\r\n#### useCache\r\n\r\nAllspeak uses a built-in cache system, to speed up the translation process.<br>\r\nTypically, the JSON files should be loaded only once, then the application will rely either on the cached JSON data, or even store translations into localStorage. This allows to keep translations cached even if you close the website.<br>\r\nHowever, any modifications to the translation files will **not** show up in this case (Aside from new yet-to-be-cached translations).<br>\r\nYou can then either disable the caching system, which will load translations directly from the JSON files everytime, or [clear the cache](#clearcache) to force Allspeak to refresh it.\r\n\r\n* Setting name: `useCache`\r\n* Possible values: *Boolean* true|false\r\n* Default: true\r\n\r\n## Methods\r\n\r\n#### trans\r\n\r\n``` javascript\r\nAllspeak.trans(args);\r\n```\r\n\r\nTranslates the document to the given locale.\r\n\r\n###### Parameters\r\n\r\n* args *Object|String* The arguments for this translation\r\n\t* Required: The locale/language identifier\r\n\r\nThe arguments can be:\r\n\r\n* *String* The locale identifier\r\n* *Object* The arguments settings\r\n\t- locale: *String* The locale identifier\r\n\t- domain: *String* The translation domain (Optional, Default `Allspeak.defaultDomain`)\r\n\t- scope: *DOM Element|jQuery Element* The scope of the document to translate (Optional, Default `<body>`)\r\n\r\n#### clearCache\r\n\r\n``` javascript\r\nAllspeak.clearCache();\r\n```\r\n\r\nClear the translation cache, including the cached JSON data. This will force to reload the whole translation data the next time the page is translated.\r\n\r\n###### Parameters\r\n\r\n*none*\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}